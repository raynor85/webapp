!function(i){var t="rating-clear",n="."+t,a="hidden",e=function(i){return"[data-value"+(i?"="+i:"")+"]"},o=function(i,t,n){var a=n["active-icon"],e=n["inactive-icon"];i.removeClass(t?e:a).addClass(t?a:e)},l=function(n,a){for(var e=a.min,o=a.max,l=a.clearable,s=i('<div class="rating-input"></div>'),c=e;o>=c;c++)s.append('<i class="'+a["icon-lib"]+'" data-value="'+c+'"></i>');return l&&s.append("&nbsp;").append('<a class="'+t+'"><i class="'+a["icon-lib"]+" "+a["clearable-icon"]+'"/>'+l+"</a>"),s},s=function(i){var t={};for(option in c)t[option]=i.data(option);return t},c={min:1,max:5,"empty-value":0,"icon-lib":"fa","active-icon":"fa-star","inactive-icon":"fa-star-o",clearable:"","clearable-icon":"fa-trash-o"},r=function(t,n){var e=this.$input=i(t),o=this.options=i.extend({},c,s(e),n),r=this.$el=l(e,o);e.addClass(a).before(r),this.highlight(e.val())};r.VERSION="0.3.0",r.DEFAULTS=c,r.prototype={clear:function(){this.setValue(this.options["empty-value"])},setValue:function(i){this.highlight(i),this.updateInput(i)},highlight:function(i,t){var l=this.options,s=this.$el;if(i>=this.options.min&&i<=this.options.max){var c=s.find(e(i));o(c.prevAll("i").andSelf(),!0,l),o(c.nextAll("i"),!1,l)}else o(s.find(e()),!1,l);t||(i&&i!=this.options["empty-value"]?s.find(n).removeClass(a):s.find(n).addClass(a))},updateInput:function(i){var t=this.$input;t.val()!=i&&t.val(i).change()}};var u=i.fn.rating=function(t){return this.each(function(){var a=i(this),o="rating",l=a.data(o),s="object"==typeof t&&t;l||(l=new r(a,s),l.$el.on("mouseenter",e(),function(){l.highlight(i(this).data("value"),!0)}).on("mouseleave",e(),function(){l.highlight(a.val(),!0)}).on("click",e(),function(){l.setValue(i(this).data("value"))}).on("click",n,function(){l.clear()}),a.data(o,l)),"clear"===t?l.clear():"setValue"===t&&l.setValue(arguments[1])})};u.Constructor=r,i(function(){i("input.rating[type=number]").each(function(){i(this).rating()})})}(jQuery);
