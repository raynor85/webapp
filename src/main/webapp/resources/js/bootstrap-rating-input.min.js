!function(a){"use strict";function n(a){return"[data-value"+(a?"="+a:"")+"]"}function e(a,n,e){var i=e.activeIcon,t=e.inactiveIcon;a.removeClass(n?t:i).addClass(n?i:t)}function i(n,e){var i=a.extend({},o,n.data(),e);return i.inline=""===i.inline||i.inline,i.readonly=""===i.readonly||i.readonly,i.clearable===!1?i.clearableLabel="":i.clearableLabel=i.clearable,i.clearable=""===i.clearable||i.clearable,i}function t(n,e){if(e.inline)var i=a('<span class="rating-input"></span>');else var i=a('<div class="rating-input"></div>');i.addClass(n.attr("class")),i.removeClass("rating");for(var t=e.min;t<=e.max;t++)i.append('<i class="'+e.iconLib+'" data-value="'+t+'"></i>');return e.clearable&&!e.readonly&&i.append("&nbsp;").append('<a class="'+l+'"><i class="'+e.iconLib+" "+e.clearableIcon+'"/>'+e.clearableLabel+"</a>"),i}var l="rating-clear",s="."+l,r="hidden",o={min:1,max:5,"empty-value":0,iconLib:"fa",activeIcon:"fa-star",inactiveIcon:"fa-star-o",clearable:!1,clearableIcon:"fa-trash-o",inline:!1,readonly:!1},c=function(a,n){var e=this.$input=a;this.options=i(e,n);var l=this.$el=t(e,this.options);e.addClass(r).before(l),e.attr("type","hidden"),this.highlight(e.val())};c.VERSION="0.4.0",c.DEFAULTS=o,c.prototype={clear:function(){this.setValue(this.options["empty-value"])},setValue:function(a){this.highlight(a),this.updateInput(a)},highlight:function(a,i){var t=this.options,l=this.$el;if(a>=this.options.min&&a<=this.options.max){var o=l.find(n(a));e(o.prevAll("i").andSelf(),!0,t),e(o.nextAll("i"),!1,t)}else e(l.find(n()),!1,t);i||(a&&a!=this.options["empty-value"]?l.find(s).removeClass(r):l.find(s).addClass(r))},updateInput:function(a){var n=this.$input;n.val()!=a&&n.val(a).change()}};var u=a.fn.rating=function(e){return this.filter("input[type=number]").each(function(){var i=a(this),t="object"==typeof e&&e||{},l=new c(i,t);l.options.readonly||l.$el.on("mouseenter",n(),function(){l.highlight(a(this).data("value"),!0)}).on("mouseleave",n(),function(){l.highlight(i.val(),!0)}).on("click",n(),function(){l.setValue(a(this).data("value"))}).on("click",s,function(){l.clear()})})};u.Constructor=c,a(function(){a("input.rating[type=number]").each(function(){a(this).rating()})})}(jQuery);
