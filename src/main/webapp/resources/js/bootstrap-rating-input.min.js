!function(a){"use strict";function n(a){return"[data-value"+(a?"="+a:"")+"]"}function i(a,n,i){var e=i.activeIcon,t=i.inactiveIcon;a.removeClass(n?t:e).addClass(n?e:t)}function e(n,i){var e=a.extend({},o,n.data(),i);return e.inline=""===e.inline||e.inline,e.readonly=""===e.readonly||e.readonly,e.clearable===!1?e.clearableLabel="":e.clearableLabel=e.clearable,e.clearable=""===e.clearable||e.clearable,e}function t(n,i){if(i.inline)var e=a('<span class="rating-input"></span>');else var e=a('<div class="rating-input"></div>');e.addClass(n.attr("class")),e.removeClass("rating");for(var t=i.min;t<=i.max;t++)e.append('<i class="'+i.iconLib+'" data-value="'+t+'"></i>');return i.clearable&&!i.readonly&&e.append("&nbsp;").append('<a class="'+l+'"><i class="'+i.iconLib+" "+i.clearableIcon+'"/>'+i.clearableLabel+"</a>"),e}var l="rating-clear",s="."+l,r="hidden",o={min:1,max:5,"empty-value":0,iconLib:"fa",activeIcon:"fa-star",inactiveIcon:"fa-star-o",clearable:!1,clearableIcon:"fa-trash-o",inline:!1,readonly:!1},c=function(a,n){var i=this.$input=a;this.options=e(i,n);var l=this.$el=t(i,this.options);i.addClass(r).before(l),i.attr("type","hidden"),this.highlight(i.val())};c.VERSION="0.4.0",c.DEFAULTS=o,c.prototype={clear:function(){this.setValue(this.options["empty-value"])},setValue:function(a){this.highlight(a),this.updateInput(a)},highlight:function(a,e){var t=this.options,l=this.$el;if(a>=this.options.min&&a<=this.options.max){var o=l.find(n(a));i(o.prevAll("i").addBack(),!0,t),i(o.nextAll("i"),!1,t)}else i(l.find(n()),!1,t);e||(a&&a!=this.options["empty-value"]?l.find(s).removeClass(r):l.find(s).addClass(r))},updateInput:function(a){var n=this.$input;n.val()!=a&&n.val(a).change()}};var u=a.fn.rating=function(i){return this.filter("input[type=number]").each(function(){var e=a(this),t="object"==typeof i&&i||{},l=new c(e,t);l.options.readonly||l.$el.on("mouseenter",n(),function(){l.highlight(a(this).data("value"),!0)}).on("mouseleave",n(),function(){l.highlight(e.val(),!0)}).on("click",n(),function(){l.setValue(a(this).data("value"))}).on("click",s,function(){l.clear()})})};u.Constructor=c,a(function(){a("input.rating[type=number]").each(function(){a(this).rating()})})}(jQuery);
